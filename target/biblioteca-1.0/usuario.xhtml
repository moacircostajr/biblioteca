<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    
    
    <ui:composition template="_template.xhtml">
    	<ui:define name="titulo">
    		<h1 class="titulo">Usuário #{usuarioLivraria.login}</h1>
    	</ui:define>
    	
    	<ui:define name="conteudo">
            <h:form id="formUsuario">
            	<p:fieldset legend="Dados do Usuario">
	            	<h:panelGrid columns="2">
	            		<p:outputLabel value="Login" for="login"/>
	            		<p:inputText value="#{usuarioBean.usuario.login}" id="login" required="true">
	            			<f:validateLength minimum="5"/>
	            			<f:ajax event="blur"/>
	            		</p:inputText>
	            		<p:outputLabel value="Senha" for="senha"/>
						<p:password value="#{usuarioBean.usuario.senha}" id="senha" match="confirmaSenha" required="true" requiredMessage="Senha do usuário obrigatória!" feedback="true"/>
						<p:outputLabel value="Confirmação da Senha" for="confirmaSenha"/>
						<p:password value="#{usuarioBean.usuario.senha}" id="confirmaSenha" required="true" requiredMessage="Confirmação da senha do usuário obrigatória!" feedback="true"/>
	            	</h:panelGrid>
            		<p:commandButton value="Gravar" action="#{usuarioBean.Gravar}" process="@form" update="@form"/>
					<div class="informacao-senha">
						<h:outputText value="Uma vez definido o login de um usuário, esta identificação não poderá ser alterada posteriormente."/><br/>
						<h:outputText value="Para atualizar a senha de acesso basta informar seu login e a nova senha."/><br/>
						<h:outputText value="Para cadastrar um novo usuário basta preencher os campos em branco com os dados do novo acesso."/>
					</div>
            	</p:fieldset>
            </h:form>
       </ui:define>
    </ui:composition>
</html>